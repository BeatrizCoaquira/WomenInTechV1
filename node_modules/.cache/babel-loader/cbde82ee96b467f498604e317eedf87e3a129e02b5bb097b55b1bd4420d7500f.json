{"ast":null,"code":"var _jsxFileName = \"D:\\\\Ciclo 6\\\\WomenInTech\\\\src\\\\context\\\\AuthContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(undefined);\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    // Initialize Facebook SDK\n    const initializeFacebook = () => {\n      if (window.FB) {\n        window.FB.init({\n          appId: '686477530448145',\n          // Replace with your actual Facebook App ID\n          cookie: true,\n          xfbml: true,\n          version: 'v18.0'\n        });\n\n        // Check login status\n        window.FB.getLoginStatus(response => {\n          if (response.status === 'connected') {\n            fetchUserProfile(response.authResponse.accessToken);\n          } else {\n            setIsLoading(false);\n          }\n        });\n      } else {\n        // Load Facebook SDK\n        const script = document.createElement('script');\n        script.src = 'https://connect.facebook.net/en_US/sdk.js';\n        script.async = true;\n        script.defer = true;\n        script.crossOrigin = 'anonymous';\n        document.body.appendChild(script);\n        script.onload = () => {\n          initializeFacebook();\n        };\n      }\n    };\n    initializeFacebook();\n  }, []);\n  const fetchUserProfile = accessToken => {\n    window.FB.api('/me', {\n      fields: 'id,name,email,picture'\n    }, response => {\n      setUser(response);\n      setIsLoading(false);\n    });\n  };\n  const login = async () => {\n    return new Promise((resolve, reject) => {\n      window.FB.login(response => {\n        if (response.authResponse) {\n          fetchUserProfile(response.authResponse.accessToken);\n          resolve();\n        } else {\n          reject(new Error('Login failed'));\n        }\n      }, {\n        scope: 'public_profile,email,pages_read_engagement,pages_show_list'\n      });\n    });\n  };\n  const logout = () => {\n    window.FB.logout(() => {\n      setUser(null);\n    });\n  };\n  const value = {\n    user,\n    isAuthenticated: !!user,\n    isLoading,\n    login,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\n// Extend Window interface for Facebook SDK\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","AuthContext","undefined","AuthProvider","children","_s","user","setUser","isLoading","setIsLoading","initializeFacebook","window","FB","init","appId","cookie","xfbml","version","getLoginStatus","response","status","fetchUserProfile","authResponse","accessToken","script","document","createElement","src","async","defer","crossOrigin","body","appendChild","onload","api","fields","login","Promise","resolve","reject","Error","scope","logout","value","isAuthenticated","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","$RefreshReg$"],"sources":["D:/Ciclo 6/WomenInTech/src/context/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { FacebookUser, AuthContextType } from '../types';\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [user, setUser] = useState<FacebookUser | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Initialize Facebook SDK\r\n    const initializeFacebook = () => {\r\n      if (window.FB) {\r\n        window.FB.init({\r\n          appId: '686477530448145', // Replace with your actual Facebook App ID\r\n          cookie: true,\r\n          xfbml: true,\r\n          version: 'v18.0'\r\n        });\r\n\r\n        // Check login status\r\n        window.FB.getLoginStatus((response: any) => {\r\n          if (response.status === 'connected') {\r\n            fetchUserProfile(response.authResponse.accessToken);\r\n          } else {\r\n            setIsLoading(false);\r\n          }\r\n        });\r\n      } else {\r\n        // Load Facebook SDK\r\n        const script = document.createElement('script');\r\n        script.src = 'https://connect.facebook.net/en_US/sdk.js';\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.crossOrigin = 'anonymous';\r\n        document.body.appendChild(script);\r\n        \r\n        script.onload = () => {\r\n          initializeFacebook();\r\n        };\r\n      }\r\n    };\r\n\r\n    initializeFacebook();\r\n  }, []);\r\n\r\n  const fetchUserProfile = (accessToken: string) => {\r\n    window.FB.api('/me', { fields: 'id,name,email,picture' }, (response: FacebookUser) => {\r\n      setUser(response);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  const login = async (): Promise<void> => {\r\n    return new Promise((resolve, reject) => {\r\n      window.FB.login((response: any) => {\r\n        if (response.authResponse) {\r\n          fetchUserProfile(response.authResponse.accessToken);\r\n          resolve();\r\n        } else {\r\n          reject(new Error('Login failed'));\r\n        }\r\n      }, {\r\n        scope: 'public_profile,email,pages_read_engagement,pages_show_list'\r\n      });\r\n    });\r\n  };\r\n\r\n  const logout = () => {\r\n    window.FB.logout(() => {\r\n      setUser(null);\r\n    });\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    isAuthenticated: !!user,\r\n    isLoading,\r\n    login,\r\n    logout\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Extend Window interface for Facebook SDK\r\ndeclare global {\r\n  interface Window {\r\n    FB: any;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}